import{_ as t,c as a,o,ag as n}from"./chunks/framework.B-XtCDNB.js";const p=JSON.parse('{"title":"Payments","description":"","frontmatter":{"subtitle":"Configure payment methods and track payment status."},"headers":[],"relativePath":"merchant/order/payments.md","filePath":"merchant/order/payments.md"}'),s={name:"merchant/order/payments.md"};function r(i,e,l,h,d,m){return o(),a("div",null,[...e[0]||(e[0]=[n('<h1 id="payments" tabindex="-1">Payments <a class="header-anchor" href="#payments" aria-label="Permalink to &quot;Payments&quot;">​</a></h1><p>Payment processing in Meloncart is handled by the <strong>Responsiv.Pay</strong> plugin. This plugin provides the payment gateway infrastructure, invoice management, and payment method configuration. Meloncart integrates with it to connect orders to payments seamlessly.</p><h2 id="payment-methods" tabindex="-1">Payment Methods <a class="header-anchor" href="#payment-methods" aria-label="Permalink to &quot;Payment Methods&quot;">​</a></h2><p>Payment methods are configured under <strong>Settings → Payment Methods</strong> (provided by the Responsiv.Pay plugin). Each payment method represents a way customers can pay for their orders — such as credit card via Stripe, PayPal, bank transfer, or cash on delivery.</p><h3 id="setting-up-a-payment-method" tabindex="-1">Setting Up a Payment Method <a class="header-anchor" href="#setting-up-a-payment-method" aria-label="Permalink to &quot;Setting Up a Payment Method&quot;">​</a></h3><p>Click <strong>New Payment Method</strong> to add one. Each payment method has:</p><ul><li><strong>Name</strong> — The display name shown to customers at checkout (e.g., &quot;Credit Card&quot;, &quot;PayPal&quot;).</li><li><strong>Driver</strong> — The payment gateway driver that handles the transaction (e.g., Stripe, PayPal, offline).</li><li><strong>Enabled</strong> — Whether the method is available to customers.</li><li><strong>Configuration</strong> — Driver-specific settings such as API keys, webhook URLs, and mode (test/live).</li></ul><h3 id="order-specific-settings" tabindex="-1">Order-Specific Settings <a class="header-anchor" href="#order-specific-settings" aria-label="Permalink to &quot;Order-Specific Settings&quot;">​</a></h3><p>Meloncart extends payment method drivers with additional settings:</p><h4 id="for-offline-payment-methods" tabindex="-1">For Offline Payment Methods <a class="header-anchor" href="#for-offline-payment-methods" aria-label="Permalink to &quot;For Offline Payment Methods&quot;">​</a></h4><p>Payment methods without an online payment form (such as bank transfer, cash on delivery, or invoice payment) have these additional settings:</p><ul><li><strong>Order Start Status</strong> — The order status to assign when a customer selects this payment method at checkout. This allows you to route orders differently based on how the customer pays. For example, bank transfer orders might start in a &quot;Awaiting Payment&quot; status.</li><li><strong>Suppress Order Notifications</strong> — When enabled, the standard &quot;new order&quot; notification email is not sent for orders using this payment method. This is useful when you want to handle notification for certain payment types manually.</li></ul><h4 id="for-online-payment-methods" tabindex="-1">For Online Payment Methods <a class="header-anchor" href="#for-online-payment-methods" aria-label="Permalink to &quot;For Online Payment Methods&quot;">​</a></h4><p>Payment methods with an online payment form (such as Stripe or PayPal) have:</p><ul><li><strong>Order Status</strong> — The status to assign to the order upon successful payment. This defaults to &quot;Paid&quot; but can be changed to match your workflow.</li></ul><h2 id="payment-processing-flow" tabindex="-1">Payment Processing Flow <a class="header-anchor" href="#payment-processing-flow" aria-label="Permalink to &quot;Payment Processing Flow&quot;">​</a></h2><h3 id="standard-flow" tabindex="-1">Standard Flow <a class="header-anchor" href="#standard-flow" aria-label="Permalink to &quot;Standard Flow&quot;">​</a></h3><ol><li><strong>Customer selects payment method</strong> — During checkout, the customer chooses from available payment methods.</li><li><strong>Order is created</strong> — When the customer places the order, Meloncart creates an order record and an associated invoice in the Responsiv.Pay system.</li><li><strong>Payment is processed</strong> — For online payment methods, the customer is redirected to a payment page (or a payment form is displayed inline). For offline methods, the order is created immediately with the configured start status.</li><li><strong>Payment confirmation</strong> — When the payment gateway confirms the transaction, the invoice is marked as paid.</li><li><strong>Order status updates</strong> — Meloncart detects the paid invoice and automatically: <ul><li>Marks the order as payment processed (recording the timestamp).</li><li>Transitions the order to the &quot;Paid&quot; status (or the configured status for that payment method).</li><li>Sends status notification emails if configured.</li><li>Decreases stock levels for all items in the order.</li></ul></li></ol><h3 id="invoices" tabindex="-1">Invoices <a class="header-anchor" href="#invoices" aria-label="Permalink to &quot;Invoices&quot;">​</a></h3><p>Each order has an associated invoice managed by Responsiv.Pay. The invoice mirrors the order&#39;s items, totals, and payment information. When you edit an order in the backend (adding or removing items, changing the shipping method, etc.), the invoice is automatically synchronized to reflect the current order state.</p><p>Invoices track:</p><ul><li><strong>Items</strong> — Each order item is linked to a corresponding invoice item.</li><li><strong>Total</strong> — The total amount due.</li><li><strong>Payment Method</strong> — The selected payment gateway.</li><li><strong>Payment Status</strong> — Whether the invoice has been paid.</li><li><strong>Payment Log</strong> — A record of all payment attempts and transactions.</li></ul><h2 id="payment-status" tabindex="-1">Payment Status <a class="header-anchor" href="#payment-status" aria-label="Permalink to &quot;Payment Status&quot;">​</a></h2><p>An order&#39;s payment status is determined by whether the <code>payment_processed_at</code> timestamp has been set:</p><ul><li><strong>Unpaid</strong> — The order has no payment processed timestamp. The customer may not have completed payment, or the payment gateway has not yet confirmed the transaction.</li><li><strong>Paid</strong> — The order has a payment processed timestamp, indicating successful payment.</li></ul><div class="info custom-block"><p class="custom-block-title">INFO</p><p>The payment status is set automatically when the payment gateway confirms the transaction. You generally do not need to manage this manually. However, for offline payment methods (bank transfer, etc.), transitioning the order to the &quot;Paid&quot; status in the backend will mark the payment as processed.</p></div><h2 id="payment-log" tabindex="-1">Payment Log <a class="header-anchor" href="#payment-log" aria-label="Permalink to &quot;Payment Log&quot;">​</a></h2><p>Each order&#39;s payment history can be viewed through the associated invoice. The payment log records all interactions with the payment gateway, including successful charges, failed attempts, and refund transactions. This is useful for troubleshooting payment issues.</p><h2 id="multiple-payment-methods" tabindex="-1">Multiple Payment Methods <a class="header-anchor" href="#multiple-payment-methods" aria-label="Permalink to &quot;Multiple Payment Methods&quot;">​</a></h2><p>Your store can have multiple active payment methods simultaneously. At checkout, customers see all enabled payment methods that are applicable to their order. The Responsiv.Pay plugin handles the routing to the correct gateway based on the customer&#39;s selection.</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>For stores that sell both physical and digital products, you can set up different payment methods with different configurations. All enabled methods appear at checkout regardless of what is in the cart.</p></div>',31)])])}const u=t(s,[["render",r]]);export{p as __pageData,u as default};
